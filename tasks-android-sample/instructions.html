<html>
<title>tasks-android-sample</title>
<body>
  <h2>Instructions for the Tasks V1 Android Sample</h2>

  <h3>Browse Online</h3>

  <ul>
    <li><a
      href="http://code.google.com/p/google-api-java-client/source/browse?repo=samples#hg/tasks-android-sample">Browse
        Source</a>, or main file <a
      href="http://code.google.com/p/google-api-java-client/source/browse/tasks-android-sample/src/main/java/com/google/api/services/samples/tasks/android/TasksSample.java?repo=samples">TasksSample.java</a>
    </li>
  </ul>

  <h3>Register Your Application</h3>

  <p>You first need to register your Android application and sign up for
    access to the Google Tasks API in the Google APIs Console. First, you
    need the "Signing certificate fingerprint (SHA1)" for the debug and release
    builds:</p>
  <pre>
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1
Enter keystore password: android

keytool -exportcert -alias androiddebugkey -keystore my-release-key.keystore | openssl sha1
</pre>

  <p>Next, register in the Google APIs Console:</p>

  <ul>
    <li>Visit the <a
      href="https://code.google.com/apis/console/?api=tasks">Google apis
      console</a> and click OK.  Make sure you click on this URL specifically, which
      automatically enables the Calendar API. If you don't properly enable the Calendar API
      when running the sample you would get a 403 error Access Not Configured.</li>
    <li>If this is your first time, click "Create project..."</li>
    <li>Otherwise, click on the drop down under the "Google apis" logo at
      the top left, and click "Create..." under "Other projects"</li>
    <li>Click on "API Access", and then on "Create an OAuth 2.0 Client
      ID...".</li>
    <li>Enter a product name and click "Next".</li>
    <li>Select "Installed application", select "Android", enter
      com.google.api.services.samples.calendar.android for "Package name", paste
      the SHA1 fingerprint for the debug certificate above into "Signing
      certificate fingerprint (SHA1)", and click "Create client ID".</li>
    <li>Click "Create an OAuth 2.0 Client ID..." and follow the directions
      from the previous step for the release certificate.</li>
  </ul>

  <h3>Checkout Instructions</h3>

  <p>
    <b>Prerequisites:</b> install <a href="http://java.com">Java 6</a>, <a
      href="http://mercurial.selenic.com/">Mercurial</a> (requires 1.6 or
    higher). You may need to set your
    <code>JAVA_HOME</code> and <code>ANDROID_HOME</code>.
  </p>

  <pre>
cd <i>[someDirectory]</i>
hg clone https://code.google.com/p/google-api-java-client.samples/ google-api-java-client-samples
cd google-api-java-client-samples/tasks-android-sample
  </pre>

  <p>To enable logging of HTTP requests and responses (highly recommended
    when developing):</p>

  <pre>
adb shell setprop log.tag.HttpTransport DEBUG
</pre>

  <h3>Setup Project in Eclipse</h3>

  <p>
    <b>Prerequisites:</b> install <a href="http://www.eclipse.org/downloads/">Eclipse</a>,
    the <a href="http://javaforge.com/project/HGE">Mercurial plugin</a> (optional), and the <a
      href="http://developer.android.com/sdk/eclipse-adt.html#installing">Android
      plugin</a>.
  </p>

  <ul>
    <li>Preferences:
      <ul>
        <li>Android: setup SDK location</li>
      </ul>
    </li>
    <li>Window &gt; Android SDK Manager
      <ul>
        <li>Check on "Google APIs" under "Android 4.1.6 (API Level 16)"</li>
        <li>Check on "Google Play services" under "Extras".</li>
        <li>Click on "Install X packages..."</li>
      </ul>
    </li>
    <li>Import <code>tasks-android-sample</code> project
      <ul>
        <li>File &gt; Import...</li>
        <li>Select "General &gt; Existing Project into Workspace" and click
          "Next"</li>
        <li>Click "Browse" next to "Select root directory", find <code>
            <i>[someDirectory]</i>/google-api-java-client-samples/tasks-android-sample
          </code> and click "Next"
        </li>
        <li>Click "Finish"</li>
      </ul></li>
    <li>Clean Project (if compile error about missing gen directory)
      <ul>
        <li>Select <code>tasks-android-sample</code> project</li>
        <li>Project &gt; Clean...</li>
        <li>Select "Clean projects selected below"</li>
        <li>Click on "OK"</li>
      </ul>
    </li>
    <li>NOTE: you must use a physical device for developing and testing
      because Google Play services cannot be installed on an emulator.</li>
    <li>Run
      <ul>
        <li>Right-click on project tasks-android-sample</li>
        <li>Run As &gt; Android Application</li>
        <li>Select the physical device and click OK.</li>
        </li>
      </ul>
    </li>
  </ul>
</body>
</html>
