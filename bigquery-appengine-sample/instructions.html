<html>
<title>Google Bigquery App Engine Dashboard Sample</title>
<body>
  <h2>Instructions for the Google Bigquery App Engine Dashboard Sample</h2>

  <h3>Browse Source Code</h3>

  <ul>
    <li><a
      href="http://code.google.com/p/google-api-java-client/source/browse/bigquery-appengine-sample/?repo=samples">bigquery-appengine-sample</a></li>
  </ul>

  <h3>Register Your Application</h3>

  <ul>
    <li>Visit the <a
      href="https://code.google.com/apis/console/?api=calendar">Google apis
        console</a>
    </li>
    <li>If this is your first time, click "Create project..."</li>
    <li>Otherwise, click on the drop down under the "Google apis" logo at the top left,
        and click "Create..." under "Other projects".</li>
    <li>Click on "API Access", and then on "Create an OAuth 2.0 Client
      ID...".</li>
    <li>Enter a product name and click "Next".</li>
    <li>Select "Web application", select "more options" and enter some
      redirect URIs, for example
      "https://yourappname.appspot.com/oauth2callback" and
      "http://localhost:8888/oauth2callback". Click "Create client ID".</li>
    <li>In the newly created "Client ID for web applications", click
        "Download JSON" on the right side. Later on after you check out the
        sample project, you will copy this downloaded file (e.g. <code>~/Downloads/client_secrets.json</code>)
        to <a href="src/main/resources/client_secrets.json">src/main/resources/client_secrets.json</a>.
        Otherwise you would get a <code>400 INVALID_CLIENT</code> error in
        the browser when running the sample.</li>
  </ul>

  <h3>Checkout Instructions</h3>

  <p>
    <b>Prerequisites:</b> install <a href="http://java.com">Java 6</a>, <a
      href="https://developers.google.com/appengine/downloads">Google App Engine</a>,
      <a href="http://mercurial.selenic.com/">Mercurial</a>,
      and <a href="http://maven.apache.org/download.html">Maven</a>. You may 
      need to set your
    <code>JAVA_HOME</code>
    .
  </p>

  <pre>
cd <i>[someDirectory]</i>
hg clone https://code.google.com/p/google-api-java-client.samples/ google-api-java-client-samples
cd google-api-java-client-samples/bigquery-appengine-sample
cp ~/Downloads/client_secrets.json src/main/resources/client_secrets.json
mvn clean package
  </pre>

  <p>To enable logging of HTTP requests and responses (highly recommended
    when developing), please take a look at <a href="src/main/webapp/WEB-INF/logging.properties">logging.properties</a>.</p>
    
  <h3>Setup Project in Eclipse</h3>

  <p>
    <b>Prerequisites:</b> install <a href="http://www.eclipse.org/downloads/">Eclipse</a>,
    <a href="http://code.google.com/eclipse/">Google Plugin for Eclipse</a>, and
    the <a href="http://javaforge.com/project/HGE">Mercurial plugin</a>.
  </p>

  <ul>
    <li>Setup Eclipse Preferences
      <ul>
        <li>Window &gt; Preferences... (or on Mac, Eclipse &gt;
          Preferences...)</li>
        <li>Select Maven
          <ul>
            <li>check on "Download Artifact Sources"</li>
            <li>check on "Download Artifact JavaDoc"</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Import <code>bigquery-appengine-sample</code> project
      <ul>
        <li>File &gt; Import...</li>
        <li>Select "General &gt; Existing Project into Workspace" and click
          "Next"</li>
        <li>Click "Browse" next to "Select root directory", find <code>
            <i>[someDirectory]</i>/google-api-java-client-samples/bigquery-appengine-sample
          </code> and click "Next"
        </li>
        <li>Click "Finish"</li>
        <li>NOTE: please ignore the "The App Engine SDK JAR * is missing in
          the WEB-INF/lib directory" error messages.</li>
      </ul>
    </li>
    <li>Run
      <ul>
        <li>Right-click on project bigquery-appengine-sample</li>
        <li>Run As &gt; Web Application</li>
      </ul>
    </li>
  </ul>

  <h3>FAQ</h3>
  <ul>
    <li>I keep getting redirected to /denied! What do I do?<br />Make sure
      your client secret/ID are correctly set and that you re-installed
      samples/shared-sample-appengine.
    </li>
    <li>I get a 403 Forbidden when trying to run my query. What causes
      this?<br />The user who is trying to run the query has to be added as a
      team member to the project in the API console in order to access the data
      associated with the project.
    </li>
    <li>I get a 404 when I run my query. What could be wrong?<br />Make
      sure you've added your API Console project ID to the appengine-web.xml.
    </li>
  </ul>

</body>
</html>
